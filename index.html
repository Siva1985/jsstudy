<html ng-app="providerapp">
<head>
<title>Provider Practice</title>
<script type="text/javascript" src="Scripts/angular.js"></script>
</head>
<body ng-controller="OneCtrl">



<script type="text/javascript">
	
var app = angular.module('providerapp',[]);


app.factory('httpRequestInterceptor', function () {
  return {
    request: function (config) {
      var token = '?hello=hello';
      config.url = config.url+token;
      return config;
      
    }
  };
});

app.factory('httpResponseInterceptor', function () {
  return {
    response: function (response) {
	 response.data={data:'Hi da'}; 
	 return response;
    }
  };
});

app.config(function($httpProvider){
$httpProvider.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';
$httpProvider.defaults.headers.common['my_ip_Address'] = '192.168.0.111';
$httpProvider.defaults.headers.post = {};
$httpProvider.interceptors.push('httpRequestInterceptor');
$httpProvider.interceptors.push('httpResponseInterceptor');
console.log($httpProvider)

})


app.run(function(){


	console.log('Module is Running')
})

app.factory('OneFactory',function(){


	return ' From Factory';

})

app.controller('OneCtrl',function($scope,OneFactory,$http){

	$scope.initFunction = function(){


		//console.log('Init Function' + OneFactory)
		$http.get('http://localhost/angular_practice/server.php').then(function(response){


			console.log(response.data,'inside promise')
		});
	}


})



</script>


<button ng-click="initFunction()">Click</button>
</body>
</html>

